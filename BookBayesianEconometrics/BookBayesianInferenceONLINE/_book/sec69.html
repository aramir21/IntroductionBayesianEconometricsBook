<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.9 Quantile regression | Introduction to Bayesian Data Modeling</title>
  <meta name="description" content="The subject of this textbook is Bayesian data modeling, with the primary aim of providing an introduction to its theoretical foundations and facilitating the application of Bayesian inference using a GUI." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="5.9 Quantile regression | Introduction to Bayesian Data Modeling" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="The subject of this textbook is Bayesian data modeling, with the primary aim of providing an introduction to its theoretical foundations and facilitating the application of Bayesian inference using a GUI." />
  <meta name="github-repo" content="https://github.com/aramir21/IntroductionBayesianEconometricsBook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.9 Quantile regression | Introduction to Bayesian Data Modeling" />
  
  <meta name="twitter:description" content="The subject of this textbook is Bayesian data modeling, with the primary aim of providing an introduction to its theoretical foundations and facilitating the application of Bayesian inference using a GUI." />
  

<meta name="author" content="Andrés Ramírez-Hassan" />


<meta name="date" content="2025-02-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sec68.html"/>
<link rel="next" href="sec610.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Bayesian Econometrics: A GUIded tour using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="to-instructors-and-students.html"><a href="to-instructors-and-students.html"><i class="fa fa-check"></i>To instructors and students</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="Chap1.html"><a href="Chap1.html"><i class="fa fa-check"></i><b>1</b> Basic formal concepts</a>
<ul>
<li class="chapter" data-level="1.1" data-path="sec11.html"><a href="sec11.html"><i class="fa fa-check"></i><b>1.1</b> The Bayes’ rule</a></li>
<li class="chapter" data-level="1.2" data-path="sec12.html"><a href="sec12.html"><i class="fa fa-check"></i><b>1.2</b> Bayesian framework: A brief summary of theory</a></li>
<li class="chapter" data-level="1.3" data-path="sec14.html"><a href="sec14.html"><i class="fa fa-check"></i><b>1.3</b> Bayesian reports: Decision theory under uncertainty</a></li>
<li class="chapter" data-level="1.4" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>1.4</b> Summary</a></li>
<li class="chapter" data-level="1.5" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Chap2.html"><a href="Chap2.html"><i class="fa fa-check"></i><b>2</b> Conceptual differences between the Bayesian and Frequentist approaches</a>
<ul>
<li class="chapter" data-level="2.1" data-path="sec21.html"><a href="sec21.html"><i class="fa fa-check"></i><b>2.1</b> The concept of probability</a></li>
<li class="chapter" data-level="2.2" data-path="sec22.html"><a href="sec22.html"><i class="fa fa-check"></i><b>2.2</b> Subjectivity is not the key</a></li>
<li class="chapter" data-level="2.3" data-path="sec23.html"><a href="sec23.html"><i class="fa fa-check"></i><b>2.3</b> Estimation, hypothesis testing and prediction</a></li>
<li class="chapter" data-level="2.4" data-path="sec24.html"><a href="sec24.html"><i class="fa fa-check"></i><b>2.4</b> The likelihood principle</a></li>
<li class="chapter" data-level="2.5" data-path="sec25.html"><a href="sec25.html"><i class="fa fa-check"></i><b>2.5</b> Why is not the Bayesian approach that popular?</a></li>
<li class="chapter" data-level="2.6" data-path="sec26.html"><a href="sec26.html"><i class="fa fa-check"></i><b>2.6</b> A simple working example</a></li>
<li class="chapter" data-level="2.7" data-path="sec27.html"><a href="sec27.html"><i class="fa fa-check"></i><b>2.7</b> Summary</a></li>
<li class="chapter" data-level="2.8" data-path="sec28.html"><a href="sec28.html"><i class="fa fa-check"></i><b>2.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Chap3.html"><a href="Chap3.html"><i class="fa fa-check"></i><b>3</b> Cornerstone models: Conjugate families</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sec41.html"><a href="sec41.html"><i class="fa fa-check"></i><b>3.1</b> Motivation of conjugate families</a></li>
<li class="chapter" data-level="3.2" data-path="sec42.html"><a href="sec42.html"><i class="fa fa-check"></i><b>3.2</b> Conjugate prior to exponential family</a></li>
<li class="chapter" data-level="3.3" data-path="sec44.html"><a href="sec44.html"><i class="fa fa-check"></i><b>3.3</b> Linear regression: The conjugate normal-normal/inverse gamma model</a></li>
<li class="chapter" data-level="3.4" data-path="multivariate-linear-regression-the-conjugate-normal-normalinverse-wishart-model.html"><a href="multivariate-linear-regression-the-conjugate-normal-normalinverse-wishart-model.html"><i class="fa fa-check"></i><b>3.4</b> Multivariate linear regression: The conjugate normal-normal/inverse Wishart model</a></li>
<li class="chapter" data-level="3.5" data-path="computational-examples.html"><a href="computational-examples.html"><i class="fa fa-check"></i><b>3.5</b> Computational examples</a></li>
<li class="chapter" data-level="3.6" data-path="summary-chapter-4.html"><a href="summary-chapter-4.html"><i class="fa fa-check"></i><b>3.6</b> Summary: Chapter 4</a></li>
<li class="chapter" data-level="3.7" data-path="exercises-chapter-4.html"><a href="exercises-chapter-4.html"><i class="fa fa-check"></i><b>3.7</b> Exercises: Chapter 4</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Chap5.html"><a href="Chap5.html"><i class="fa fa-check"></i><b>4</b> Graphical user interface</a></li>
<li class="chapter" data-level="5" data-path="Chap6.html"><a href="Chap6.html"><i class="fa fa-check"></i><b>5</b> Univariate regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sec61.html"><a href="sec61.html"><i class="fa fa-check"></i><b>5.1</b> The Gaussian linear model</a></li>
<li class="chapter" data-level="5.2" data-path="sec62.html"><a href="sec62.html"><i class="fa fa-check"></i><b>5.2</b> The logit model</a></li>
<li class="chapter" data-level="5.3" data-path="sec63.html"><a href="sec63.html"><i class="fa fa-check"></i><b>5.3</b> The probit model</a></li>
<li class="chapter" data-level="5.4" data-path="sec64.html"><a href="sec64.html"><i class="fa fa-check"></i><b>5.4</b> The multinomial probit model</a></li>
<li class="chapter" data-level="5.5" data-path="sec65.html"><a href="sec65.html"><i class="fa fa-check"></i><b>5.5</b> The multinomial logit model</a></li>
<li class="chapter" data-level="5.6" data-path="sec66.html"><a href="sec66.html"><i class="fa fa-check"></i><b>5.6</b> Ordered probit model</a></li>
<li class="chapter" data-level="5.7" data-path="negative-binomial-model.html"><a href="negative-binomial-model.html"><i class="fa fa-check"></i><b>5.7</b> Negative binomial model</a></li>
<li class="chapter" data-level="5.8" data-path="sec68.html"><a href="sec68.html"><i class="fa fa-check"></i><b>5.8</b> Tobit model</a></li>
<li class="chapter" data-level="5.9" data-path="sec69.html"><a href="sec69.html"><i class="fa fa-check"></i><b>5.9</b> Quantile regression</a></li>
<li class="chapter" data-level="5.10" data-path="sec610.html"><a href="sec610.html"><i class="fa fa-check"></i><b>5.10</b> Bayesian bootstrap regression</a></li>
<li class="chapter" data-level="5.11" data-path="sec611.html"><a href="sec611.html"><i class="fa fa-check"></i><b>5.11</b> Summary</a></li>
<li class="chapter" data-level="5.12" data-path="sec612.html"><a href="sec612.html"><i class="fa fa-check"></i><b>5.12</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Chap7.html"><a href="Chap7.html"><i class="fa fa-check"></i><b>6</b> Multivariate regression</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sec71.html"><a href="sec71.html"><i class="fa fa-check"></i><b>6.1</b> Multivariate regression</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Chap8.html"><a href="Chap8.html"><i class="fa fa-check"></i><b>7</b> Time series</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Bayesian Data Modeling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sec69" class="section level2 hasAnchor" number="5.9">
<h2><span class="header-section-number">5.9</span> Quantile regression<a href="sec69.html#sec69" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In quantile regression, the location parameters vary according to the quantile of the dependent variable. Let <span class="math inline">\(q_{\tau}(\boldsymbol{x}_i) = \boldsymbol{x}_i^{\top} \boldsymbol{\beta}_{\tau}\)</span> denote the <span class="math inline">\(\tau\)</span>-th quantile regression function of <span class="math inline">\(y_i\)</span> given <span class="math inline">\(\boldsymbol{x}_i\)</span>, where <span class="math inline">\(\boldsymbol{x}_i\)</span> is a <span class="math inline">\(K\)</span>-dimensional vector of regressors, and <span class="math inline">\(0 &lt; \tau &lt; 1\)</span>. Specifically, we have the model <span class="math inline">\(y_i = \boldsymbol{x}_i^{\top} \boldsymbol{\beta}_{\tau} + \mu_i\)</span>, with the condition <span class="math inline">\(\int_{-\infty}^{0} f_{\tau}(\mu_i) \, d\mu_i = \tau\)</span>, meaning that the <span class="math inline">\(\tau\)</span>-th quantile of <span class="math inline">\(\mu_i\)</span> is 0.</p>
<p>In particular, <span class="citation">Kozumi and Kobayashi (<a href="#ref-Kozumi2011">2011</a>)</span> propose the asymmetric Laplace distribution for <span class="math inline">\(f_{\tau}(\mu_i)\)</span>, given by</p>
<p><span class="math display">\[ f_{\tau}(\mu_i) = \tau(1 - \tau) \exp\left\{- \mu_i(\tau - \mathbb{1}({\mu_i &lt; 0})) \right\}, \]</span></p>
<p>where <span class="math inline">\(\mu_i(\tau - \mathbb{1}({\mu_i &lt; 0}))\)</span> is the check (loss) function. These authors also propose a location-scale mixture of normals representation, given by</p>
<p><span class="math display">\[ \mu_i = \theta e_i + \psi \sqrt{e_i} z_i, \]</span></p>
<p>where <span class="math inline">\(\theta = \frac{1 - 2\tau}{\tau(1 - \tau)}\)</span>, <span class="math inline">\(\psi^2 = \frac{2}{\tau(1 - \tau)}\)</span>, <span class="math inline">\(e_i \sim E(1)\)</span>, and <span class="math inline">\(z_i \sim N(0,1)\)</span>, with <span class="math inline">\(e_i \perp z_i\)</span>.<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> As a result of this representation and the fact that the sample is i.i.d., the likelihood function is</p>
<p><span class="math display">\[ p(\boldsymbol{y} \mid \boldsymbol{\beta}_{\tau}, \boldsymbol{e}, \boldsymbol{X}) \propto \left( \prod_{i=1}^{N} e_i^{-1/2} \right) \exp\left\{- \sum_{i=1}^{N} \frac{(y_i - \boldsymbol{x}_i^{\top} \boldsymbol{\beta}_{\tau} - \theta e_i)^2}{2 \psi^2 e_i} \right\}. \]</span></p>
<p>Assuming a normal prior for <span class="math inline">\(\boldsymbol{\beta}_{\tau}\)</span>, i.e., <span class="math inline">\(\boldsymbol{\beta}_{\tau} \sim N(\boldsymbol{\beta}_{\tau 0}, \boldsymbol{B}_{\tau 0})\)</span>, and using data augmentation for <span class="math inline">\(\boldsymbol{e}\)</span>, we can implement a Gibbs sampling algorithm for this model. The posterior distributions are as follows:</p>
<p><span class="math display">\[\begin{equation*}
    \boldsymbol{\beta}_{\tau} \mid \boldsymbol{e}, \boldsymbol{y}, \boldsymbol{X} \sim N(\boldsymbol{\beta}_{n\tau}, \boldsymbol{B}_{n\tau}),
\end{equation*}\]</span></p>
<p><span class="math display">\[\begin{equation*}
    e_i \mid \boldsymbol{\beta}_{\tau}, \boldsymbol{y}, \boldsymbol{X} \sim \text{GIG}\left( \frac{1}{2}, \alpha_{ni}, \delta_{ni} \right),
\end{equation*}\]</span></p>
<p>where</p>
<p><span class="math display">\[\begin{align*}
    \boldsymbol{B}_{n\tau} &amp;= \left( \boldsymbol{B}_{\tau 0}^{-1} + \sum_{i=1}^{N} \frac{\boldsymbol{x}_i \boldsymbol{x}_i^{\top}}{\psi^2 e_i} \right)^{-1}, \\
    \boldsymbol{\beta}_{n\tau} &amp;= \boldsymbol{B}_{n\tau} \left( \boldsymbol{B}_{\tau 0}^{-1} \boldsymbol{\beta}_{\tau 0} + \sum_{i=1}^{N} \frac{\boldsymbol{x}_i (y_i - \theta e_i)}{\psi^2 e_i} \right), \\
    \alpha_{ni} &amp;= \frac{(y_i - \boldsymbol{x}_i^{\top} \boldsymbol{\beta}_{\tau})^2}{\psi^2}, \quad \delta_{ni} = 2 + \frac{\theta^2}{\psi^2}.
\end{align*}\]</span></p>
<p><strong>Example: The market value of soccer players in Europe continues</strong></p>
<p>We continue the example of the market value of soccer players from Section <a href="sec61.html#sec61">5.1</a>. Now, we want to examine whether the marginal effect of having been on the national team varies with the quantile of the market value of top soccer players in Europe. Thus, we use the same regressors as in the previous example, but analyze the effects at the 0.5-th and 0.9-th quantiles of <em>NatTeam</em>.</p>
<p>The following Algorithm shows how to estimate quantile regression models in our GUI. Our GUI uses the command <em>MCMCquantreg</em> from the package <em>MCMCpack</em>. The following code demonstrates how to perform this analysis using the package.</p>
<p>The results show that at the median market value (0.5-th quantile), the 95% credible interval for the coefficient associated with <em>national team</em> is (0.34, 1.02), with a posterior mean of 0.69. At the 0.9-th quantile, these values are (0.44, 1.59) and 1.03, respectively. It appears that being on the national team increases the market value of more expensive players more significantly on average, although there is some overlap in the credible intervals.</p>
<div class="algorithm">
<div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #343a40; box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.1); border-radius: 5px;">
<p><strong>Algorithm: Quantile regression</strong></p>
<ol style="list-style-type: decimal">
<li>Select <em>Univariate Models</em> on the top panel<br />
</li>
<li>Select <em>Quantile</em> model using the left radio button<br />
</li>
<li>Upload the dataset by first selecting whether there is a header in the file, and the kind of separator in the <em>csv</em> file of the dataset (comma, semicolon, or tab). Then, use the <em>Browse</em> button under the <strong>Choose File</strong> legend. You should see a preview of the dataset<br />
</li>
<li>Select MCMC iterations, burn-in, and thinning parameters using the <em>Range sliders</em><br />
</li>
<li>Select dependent and independent variables using the <em>Formula builder</em> table<br />
</li>
<li>Click the <em>Build formula</em> button to generate the formula in <strong>R</strong> syntax. You can modify the formula in the <strong>Main equation</strong> box using valid arguments of the <em>formula</em> command structure in <strong>R</strong><br />
</li>
<li>Set the quantile to be analyzed, by default it is 0.5<br />
</li>
<li>Set the hyperparameters: mean vector and covariance matrix. This step is not necessary as by default our GUI uses non-informative priors<br />
</li>
<li>Click the <em>Go!</em> button<br />
</li>
<li>Analyze results<br />
</li>
<li>Download posterior chains and diagnostic plots using the <em>Download Posterior Chains</em> and <em>Download Posterior Graphs</em> buttons</li>
</ol>
</div>
</div>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="sec69.html#cb148-1" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()); <span class="fu">set.seed</span>(<span class="dv">010101</span>)</span>
<span id="cb148-2"><a href="sec69.html#cb148-2" tabindex="-1"></a>Data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/besmarter/BSTApp/refs/heads/master/DataApp/1ValueFootballPlayers.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">quote =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb148-3"><a href="sec69.html#cb148-3" tabindex="-1"></a><span class="fu">attach</span>(Data)</span></code></pre></div>
<pre><code>## The following objects are masked from Data (pos = 3):
## 
##     Age, Age2, Assists, Exp, Exp2, Goals, Goals2, NatTeam, Perf, Perf2,
##     Player, Value, ValueCens</code></pre>
<pre><code>## The following objects are masked from Data (pos = 4):
## 
##     Age, Age2</code></pre>
<pre><code>## The following objects are masked from mydata:
## 
##     Age, Age2</code></pre>
<pre><code>## The following objects are masked from Data (pos = 6):
## 
##     Age, Age2, Assists, Exp, Exp2, Goals, Goals2, NatTeam, Perf, Perf2,
##     Player, Value, ValueCens</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="sec69.html#cb153-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">log</span>(ValueCens) </span>
<span id="cb153-2"><a href="sec69.html#cb153-2" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="dv">1</span>, Perf, Age, Age2, NatTeam, Goals, Exp, Exp2)</span>
<span id="cb153-3"><a href="sec69.html#cb153-3" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="fu">dim</span>(X)[<span class="dv">2</span>]; N <span class="ot">&lt;-</span> <span class="fu">dim</span>(X)[<span class="dv">1</span>]</span>
<span id="cb153-4"><a href="sec69.html#cb153-4" tabindex="-1"></a><span class="co"># Hyperparameters</span></span>
<span id="cb153-5"><a href="sec69.html#cb153-5" tabindex="-1"></a>b0 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, k); c0 <span class="ot">&lt;-</span> <span class="dv">1000</span>; B0 <span class="ot">&lt;-</span> c0<span class="sc">*</span><span class="fu">diag</span>(k); B0i <span class="ot">&lt;-</span> <span class="fu">solve</span>(B0)</span>
<span id="cb153-6"><a href="sec69.html#cb153-6" tabindex="-1"></a><span class="co"># MCMC parameters</span></span>
<span id="cb153-7"><a href="sec69.html#cb153-7" tabindex="-1"></a>mcmc <span class="ot">&lt;-</span> <span class="dv">50000</span>; burnin <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb153-8"><a href="sec69.html#cb153-8" tabindex="-1"></a>tot <span class="ot">&lt;-</span> mcmc <span class="sc">+</span> burnin; thin <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb153-9"><a href="sec69.html#cb153-9" tabindex="-1"></a><span class="co"># Quantile</span></span>
<span id="cb153-10"><a href="sec69.html#cb153-10" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb153-11"><a href="sec69.html#cb153-11" tabindex="-1"></a>posterior05  <span class="ot">&lt;-</span> MCMCpack<span class="sc">::</span><span class="fu">MCMCquantreg</span>(y<span class="sc">~</span>X<span class="dv">-1</span>, <span class="at">tau =</span> q, <span class="at">b0=</span>b0, <span class="at">B0 =</span> B0i, <span class="at">burnin =</span> burnin, <span class="at">mcmc =</span> mcmc, <span class="at">thin =</span> thin, <span class="at">below =</span> <span class="fl">13.82</span>, <span class="at">above =</span> <span class="cn">Inf</span>)</span>
<span id="cb153-12"><a href="sec69.html#cb153-12" tabindex="-1"></a><span class="fu">summary</span>(coda<span class="sc">::</span><span class="fu">mcmc</span>(posterior05))</span></code></pre></div>
<pre><code>## 
## Iterations = 1:50000
## Thinning interval = 1 
## Number of chains = 1 
## Sample size per chain = 50000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##               Mean       SD  Naive SE Time-series SE
## X         7.380881 2.922415 1.307e-02      2.305e-02
## XPerf     0.029380 0.005972 2.671e-05      5.269e-05
## XAge      0.550080 0.242058 1.083e-03      1.911e-03
## XAge2    -0.012009 0.004607 2.061e-05      3.665e-05
## XNatTeam  0.681238 0.170806 7.639e-04      1.564e-03
## XGoals    0.010642 0.002415 1.080e-05      1.958e-05
## XExp      0.091802 0.085777 3.836e-04      6.821e-04
## XExp2    -0.002962 0.003874 1.733e-05      2.930e-05
## 
## 2. Quantiles for each variable:
## 
##               2.5%       25%       50%        75%     97.5%
## X         1.721153  5.421451  7.355579  9.3156087 13.189612
## XPerf     0.017526  0.025434  0.029410  0.0333849  0.040987
## XAge      0.070621  0.389228  0.552940  0.7121539  1.020032
## XAge2    -0.020951 -0.015103 -0.012073 -0.0089386 -0.002859
## XNatTeam  0.341558  0.568023  0.682516  0.7949333  1.017583
## XGoals    0.005849  0.009081  0.010586  0.0122120  0.015472
## XExp     -0.068241  0.032809  0.088512  0.1472835  0.269448
## XExp2    -0.010951 -0.005446 -0.002856 -0.0003978  0.004471</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="sec69.html#cb155-1" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fl">0.9</span></span>
<span id="cb155-2"><a href="sec69.html#cb155-2" tabindex="-1"></a>posterior09  <span class="ot">&lt;-</span> MCMCpack<span class="sc">::</span><span class="fu">MCMCquantreg</span>(y<span class="sc">~</span>X<span class="dv">-1</span>, <span class="at">tau =</span> q, <span class="at">b0=</span>b0, <span class="at">B0 =</span> B0i, <span class="at">burnin =</span> burnin, <span class="at">mcmc =</span> mcmc, <span class="at">thin =</span> thin, <span class="at">below =</span> <span class="fl">13.82</span>, <span class="at">above =</span> <span class="cn">Inf</span>)</span>
<span id="cb155-3"><a href="sec69.html#cb155-3" tabindex="-1"></a><span class="fu">summary</span>(coda<span class="sc">::</span><span class="fu">mcmc</span>(posterior09))</span></code></pre></div>
<pre><code>## 
## Iterations = 1:50000
## Thinning interval = 1 
## Number of chains = 1 
## Sample size per chain = 50000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##               Mean       SD  Naive SE Time-series SE
## X         8.871556 5.825738 2.605e-02      6.605e-02
## XPerf     0.019617 0.010110 4.521e-05      1.127e-04
## XAge      0.531550 0.473922 2.119e-03      5.320e-03
## XAge2    -0.012324 0.008689 3.886e-05      9.523e-05
## XNatTeam  1.039941 0.295468 1.321e-03      3.453e-03
## XGoals    0.008703 0.004295 1.921e-05      4.799e-05
## XExp      0.136201 0.176328 7.886e-04      2.064e-03
## XExp2    -0.002835 0.007613 3.405e-05      8.450e-05
## 
## 2. Quantiles for each variable:
## 
##                2.5%       25%       50%       75%     97.5%
## X        -2.4546594  4.890189  8.838894 12.807759 20.296222
## XPerf    -0.0001067  0.012859  0.019580  0.026298  0.039655
## XAge     -0.3889773  0.210175  0.531298  0.850672  1.462811
## XAge2    -0.0295151 -0.018080 -0.012278 -0.006447  0.004438
## XNatTeam  0.4437112  0.845176  1.045862  1.241973  1.600731
## XGoals    0.0018928  0.005572  0.008122  0.011280  0.018537
## XExp     -0.2241036  0.019995  0.142557  0.258915  0.461877
## XExp2    -0.0163570 -0.008121 -0.003296  0.001949  0.013474</code></pre>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Kozumi2011" class="csl-entry">
Kozumi, Hideo, and Genya Kobayashi. 2011. <span>“Gibbs Sampling Methods for <span>B</span>ayesian Quantile Regression.”</span> <em>Journal of Statistical Computation and Simulation</em> 81 (11): 1565--1578.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="30">
<li id="fn30"><p> <span class="math inline">\(E\)</span> denotes an exponential density. <a href="sec69.html#fnref30" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sec68.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sec610.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/aramir21/IntroductionBayesianEconometricsBook/06-Univariatereg.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
